(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{9487:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experiments/NFTDetector",function(){return t(55006)}])},55006:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(85893),a=t(4709),c=t.n(a),u=t(96938),i=t(25675),o=t.n(i),s=t(67294),f=t(34051),l=t.n(f),p=t(68155),d=t(91107),h=t(77191),m=t.n(h),v=t(49476),x=t(48764).Buffer;function w(e,n,t,r,a,c,u){try{var i=e[c](u),o=i.value}catch(s){return void t(s)}i.done?n(o):Promise.resolve(o).then(r,a)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function u(e){w(c,r,a,u,i,"next",e)}function i(e){w(c,r,a,u,i,"throw",e)}u(void 0)}))}}var y=v.O2.metadata,b=y.Metadata,g=y.MetadataData;function N(e,n){return k.apply(this,arguments)}function k(){return(k=_(l().mark((function e(n,t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getParsedProgramAccounts(d.H_,{filters:[{dataSize:165},{memcmp:{offset:32,bytes:n}},{memcmp:{offset:64,bytes:m().encode(x.from([1]))}}]});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,n){return T.apply(this,arguments)}function T(){return T=_(l().mark((function e(n,t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=_(l().mark((function e(n){var r,a,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAccountInfo(n.pubkey);case 2:return r=e.sent,a=d.p0.decode(null===r||void 0===r?void 0:r.data),c=new p.PublicKey(a.mint),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function A(e,n){return P.apply(this,arguments)}function P(){return P=_(l().mark((function e(n,t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=_(l().mark((function e(n){var r,a,c,u,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,b.getPDA(n);case 3:return a=e.sent,e.next=6,b.getInfo(t,a);case 6:return c=e.sent,u=null===c||void 0===c?void 0:c.data,e.next=10,null===(r=g.deserialize(u))||void 0===r?void 0:r.data;case 10:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.uri);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function F(e){return E.apply(this,arguments)}function E(){return E=_(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=_(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||""===n){e.next=4;break}return e.abrupt("return",fetch(n).then((function(e){if(!e.ok)throw new Error("Network response was not OK when fetching NFT image URI");return e.json()})).then((function(e){return e.image})).catch((function(e){return console.error("Error occurred while getting NFT image URI: ".concat(n)),console.error(e),""})));case 4:return e.abrupt("return","");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}var D=t(86886);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,c=[],u=!0,i=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(c.push(r.value),!n||c.length!==n);u=!0);}catch(o){i=!0,a=o}finally{try{u||null==t.return||t.return()}finally{if(i)throw a}}return c}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(){var e=(0,u.Os)(),n=S(function(e){var n=(0,s.useState)([]),t=n[0],r=n[1],a=(0,s.useState)(!0),c=a[0],u=a[1],i=(0,s.useCallback)(_(l().mark((function n(){var t,a,c,u,i,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=new p.Connection((0,p.clusterApiUrl)("mainnet-beta")),""===(c=(null===e||void 0===e||null===(t=e.publicKey)||void 0===t?void 0:t.toString())||"")){n.next=19;break}return n.next=6,N(c,a);case 6:return u=n.sent,n.next=9,j(u,a);case 9:return i=n.sent,n.next=12,A(i,a);case 12:return o=n.sent,n.next=15,F(o);case 15:s=n.sent,r(s),n.next=20;break;case 19:r([]);case 20:case"end":return n.stop()}}),n)}))),[null===e||void 0===e?void 0:e.publicKey]);return(0,s.useEffect)((function(){i().catch((function(e){console.error(e),r([])})).finally((function(){u(!1)}))}),[i]),[t,i,c]}(e),3),t=n[0],a=n[1],i=n[2];return(0,s.useEffect)((function(){}),[t,a,i]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:c().experiments_container,children:(0,r.jsx)("div",{className:c().experiments_background,children:(0,r.jsx)("div",{className:c().experiments_content,children:(0,r.jsxs)(D.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(D.ZP,{item:!0,xs:12,children:(0,r.jsx)("h1",{children:"NFT Detectooor: Include your NFTs on a Twitter Banner, not yet"})}),(0,r.jsx)(D.ZP,{item:!0,xs:12,children:e.connected?(0,r.jsx)("div",{className:c().row_nfts,children:(0,r.jsx)(D.ZP,{container:!0,spacing:1,children:t.map((function(e){return(0,r.jsx)("div",{className:c().col_nfts,children:(0,r.jsx)(D.ZP,{item:!0,xs:2,children:(0,r.jsx)(o(),{className:c().NFT,src:e,alt:"undefined",width:200,height:200,layout:"fixed"})})},e)}))})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("h3",{children:"CONNECT WALLET IF YOU WANT TO SHARE ALL YOUR NFTS"})})})]})})})})})},C=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(I,{})})}},4709:function(e){e.exports={experiments_container:"DetectorView_experiments_container__v0hrc",experiments_background:"DetectorView_experiments_background__zlvps",experiments_content:"DetectorView_experiments_content__AwleF",h1:"DetectorView_h1__9rJIQ",h3:"DetectorView_h3__c1jdl",nfts_background:"DetectorView_nfts_background__dQLHJ",NFT:"DetectorView_NFT__rlAFN"}}},function(e){e.O(0,[463,935,911,267,104,866,844,774,888,179],(function(){return n=9487,e(e.s=n);var n}));var n=e.O();_N_E=n}]);